# `HanLP2` 中 `TransformerNamedEntityRecognizer.fit` 函數的參數含義，簡要解釋每個參數的核心作用：

- **trn_data**: 訓練數據路徑或數據對象（如文件路徑 `str` 或數據列表）。用於模型訓練，例如 `'../data/train/merged_train.txt'`。
- **dev_data**: 驗證數據路徑或數據對象。用於評估模型性能，例如 `'../data/train/dev.txt'`。
- **save_dir**: 模型保存目錄，訓練完成後儲存模型權重，例如 `'../data/model/ner/product_bert_finetuned'`。
- **transformer**: 使用的 Transformer 模型名稱，例如 `'bert-base-chinese'`，決定底層語言模型。
- **delimiter_in_entity**: 實體內的詞分隔符，預設 `None`。例如，`'-'` 用於分割多詞實體（如 `New-York`）。
- **merge_types**: 要合併的實體類型列表，預設 `None`。用於指定哪些標籤需要合併處理。
- **average_subwords**: 是否對子詞（subword）取平均表示，預設 `False`。適用於 Transformer 模型的子詞分詞。
- **word_dropout**: 詞級別的隨機丟棄率，預設 `0.2`。用於正則化，防止過擬合。
- **hidden_dropout**: 隱藏層的隨機丟棄率，預設 `None`（使用 Transformer 預設值）。
- **layer_dropout**: Transformer 層間的隨機丟棄率，預設 `0`。用於增強模型泛化能力。
- **scalar_mix**: 是否使用 scalar mix 機制，預設 `None`。用於結合多層 Transformer 輸出。
- **grad_norm**: 梯度裁剪範圍，預設 `5.0`。控制梯度大小以穩定訓練。
- **lr**: 學習率，預設 `5e-5`。控制模型參數更新速度。
- **transformer_lr**: Transformer 層的特定學習率，預設 `None`（使用 `lr`）。允許對 Transformer 層單獨設置學習率。
- **adam_epsilon**: Adam 優化器的 epsilon 值，預設 `1e-8`。提高數值穩定性。
- **weight_decay**: 權重衰減係數，預設 `0`。用於正則化，防止過擬合。
- **warmup_steps**: 學習率預熱步數，預設 `0.1`（比例或絕對步數）。用於穩定早期訓練。
- **crf**: 是否使用條件隨機場（CRF）層，預設 `False`。增強序列標記的結構化預測。
- **secondary_encoder**: 輔助編碼器，預設 `None`。用於擴展模型結構。
- **reduction**: 損失函數的聚合方式，預設 `'sum'`（可選 `'mean'`）。決定如何計算批次損失。
- **batch_size**: 批次大小，預設 `32`。控制每次訓練的樣本數。
- **sampler_builder**: 數據採樣器，預設 `None`。自定義數據批次生成邏輯。
- **epochs**: 訓練輪數，預設 `3`。決定模型訓練的迭代次數。
- **tagset**: 標籤集，預設 `None`。指定 NER 標籤（例如 `B-PER`, `I-PER`, `O`）。
- **token_key**: 輸入數據中表示詞的鍵名，預設 `'token'`。用於解析輸入 JSON（如 `{'token': '查询', ...}`）。
- **max_seq_len**: 最大序列長度，預設 `None`（使用 Transformer 預設值）。限制輸入序列長度。
- **sent_delimiter**: 句子分隔符，預設 `None`。用於分隔多句輸入。
- **char_level**: 是否按字元級別處理，預設 `False`。若為 `True`，按單字而非詞進行標記。
- **hard_constraint**: 是否啟用硬約束，預設 `False`。強制標籤序列符合特定規則。
- **transform**: 數據轉換函數，預設 `None`。用於前處理或後處理數據。
- **logger**: 日誌記錄器，預設 `None`。用於記錄訓練過程。
- **seed**: 隨機種子，預設 `None`。確保結果可重現。
- **devices**: 訓練設備（CPU/GPU），預設 `None`（自動選擇）。可設為 `int`（單 GPU）、`List[int]`（多 GPU）或 `float`（GPU 使用率）。
- **kwargs**: 其他關鍵字參數，傳遞給底層函數。

### 注意：
- **關鍵參數**：`trn_data`、`dev_data`、`save_dir` 和 `transformer` 是必須設置的核心參數。
- **微調場景**：你的程式碼中使用了 `epochs=3`、`batch_size=8` 等，適合小規模微調；若數據量大，可增加 `epochs` 或調整 `batch_size`。
- **詞性修正**：針對「借样」詞性錯誤（`VV` 應為 `NN`），可通過更新 `trn_data` 或設置 `tagset` 明確指定標籤集。

若需針對特定參數（如 `char_level` 或 `crf`）深入解釋，或結合你的 `oracle2bio.py` 場景，請提供更多細節！